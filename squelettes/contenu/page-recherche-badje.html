[(#REM) On boucle avec les filtres que l'on peu mettre ]
<B_recherche>
<BOUCLE_recherche(BADJE_ACTIVITES)  {recherche ?}
                                    {code_postal ?IN #ENV{code_postal}}
                                    {age_min ?<= #ENV{age_min}}
                                    {age_max ?>= #ENV{age_max}}
                                    {id_type_activite ?IN #ENV{id_type_activite}}>
    
    [(#REM) On va créer un tableau avec la période de l'activité. ]
    [(#SET{tableau_periode, #PERIODE|get_array_periode})]

    [(#REM) 
        On fait une boucle sur ce tableau et on test chaque valeur. 
        On test aussi qu'une période à bien été envoyée.
    ]
    <BOUCLE_search_periode(DATA){source table, #GET{tableau_periode}} {si #ENV{periode}|oui}>
        [(#ENV{periode}|find{#VALEUR}|oui)
            #SET{afficher, oui}
        ]
    </BOUCLE_search_periode>

    [(#REM) Si aucune période n'a été envoyée, on affiche toujours les données. ]
    #SET{afficher, oui}
    <//B_search_periode>

    [(#REM) On affiche les données. ]
    [(#GET{afficher}|=={oui}|oui)
        #NOM
        #DESCRIPTIF
        #CODE_POSTAL
        <br />#PERIODE
        <br>#AGE_MIN to #AGE_MAX
        
        <BOUCLE_type_activite(BADJE_TYPE_ACTIVITES){id_type_activite IN #ID_TYPE_ACTIVITE}>
            #TYPE_ACTIVITE
        </BOUCLE_type_activite>
        
        <br />
        <br />
        <br />
    ]
</BOUCLE_recherche>
</B_recherche>
<//B_recherche>